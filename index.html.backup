<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QA Technical Interview Portal</title>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400&display=swap" rel="stylesheet">
<style>
    :root {
        --primary-color: #2c3e50;
        --secondary-color: #34495e;
        --accent-color: #3498db;
        --bg-color: #f4f6f9;
        --card-shadow: 0 4px 15px rgba(0,0,0,0.08);
        --success-color: #27ae60;
        --danger-color: #c0392b;
        --text-color: #333;
        
        /* Method Colors */
        --method-get: #61affe;
        --method-post: #49cc90;
        --method-bg-get: #ebf3fb;
        --method-bg-post: #e8f6f0;
    }

    body {
        font-family: 'Sarabun', sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        padding: 0;
        line-height: 1.6;
    }

    /* --- Navigation --- */
    .navbar {
        background-color: white;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 1000;
    }

    .brand {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary-color);
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .nav-tabs button {
        background: transparent;
        border: none;
        padding: 10px 20px;
        margin-left: 10px;
        font-family: 'Sarabun', sans-serif;
        font-size: 1rem;
        font-weight: 600;
        color: #7f8c8d;
        cursor: pointer;
        border-radius: 50px;
        transition: all 0.3s;
    }

    .nav-tabs button.active {
        background-color: var(--primary-color);
        color: white;
        box-shadow: 0 4px 6px rgba(44, 62, 80, 0.2);
    }

    .nav-tabs button:hover:not(.active) {
        background-color: #ecf0f1;
        color: var(--primary-color);
    }

    /* --- Container & Layout --- */
    .main-container {
        max-width: 900px;
        margin: 40px auto;
        padding: 0 20px;
    }

    .section-view {
        display: none;
        animation: fadeIn 0.4s ease-out;
    }
    
    .section-view.active {
        display: block;
    }

    /* --- Cards --- */
    .card {
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: var(--card-shadow);
        margin-bottom: 25px;
        border: 1px solid #eee;
    }

    .card h2 {
        margin-top: 0;
        color: var(--primary-color);
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 15px;
        margin-bottom: 20px;
        font-size: 1.4rem;
    }

    /* --- API Accordion Styles --- */
    .api-endpoint {
        border: 1px solid #ddd;
        border-radius: 6px;
        margin-bottom: 15px;
        overflow: hidden;
    }
    
    .api-header {
        padding: 10px 15px;
        cursor: pointer;
        display: flex;
        align-items: center;
        transition: background 0.2s;
        font-weight: bold;
    }
    
    .api-header:hover {
        filter: brightness(0.95);
    }

    /* Color coding for methods */
    .api-post .api-header { background-color: var(--method-bg-post); border-left: 5px solid var(--method-post); }
    .api-get .api-header { background-color: var(--method-bg-get); border-left: 5px solid var(--method-get); }

    .method-badge {
        display: inline-block;
        min-width: 60px;
        text-align: center;
        color: white;
        padding: 4px 10px;
        border-radius: 4px;
        margin-right: 15px;
        font-size: 0.9rem;
    }
    .badge-post { background-color: var(--method-post); }
    .badge-get { background-color: var(--method-get); }

    .path { font-family: 'Fira Code', monospace; font-size: 1rem; color: #333; flex-grow: 1; }
    .desc { font-size: 0.85rem; color: #666; margin-right: 15px; font-weight: normal; }
    .toggle-icon { font-size: 0.8rem; color: #666; transition: transform 0.3s; }

    .api-content {
        display: none; /* Hidden by default */
        padding: 20px;
        background: white;
        border-top: 1px solid #eee;
    }

    /* JSON Code Block Styling */
    .code-block {
        background: #282c34;
        color: #abb2bf;
        padding: 15px;
        border-radius: 6px;
        overflow-x: auto;
        font-family: 'Fira Code', monospace;
        font-size: 0.9rem;
        margin: 10px 0;
        white-space: pre; /* Important for indentation */
        line-height: 1.5;
        border: 1px solid #3e4451;
    }
    
    .status-code {
        font-family: 'Fira Code', monospace;
        font-weight: bold;
        font-size: 0.9rem;
        padding: 2px 8px;
        border-radius: 4px;
        margin-left: 10px;
    }
    .status-200 { background: #e6fffa; color: #27ae60; border: 1px solid #27ae60; }
    .status-201 { background: #e6fffa; color: #2980b9; border: 1px solid #2980b9; }
    
    .expected-note {
        background: #e8f4fd; 
        padding: 10px; 
        border-left: 4px solid #3498db; 
        margin-top: 15px;
        border-radius: 0 4px 4px 0;
        font-size: 0.95rem;
    }

    /* --- Forms (Mock App Styles) --- */
    .form-group { margin-bottom: 15px; }
    .form-row { display: flex; gap: 15px; }
    
    input, select {
        width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px;
        font-family: 'Sarabun', sans-serif; font-size: 1rem; box-sizing: border-box; transition: border-color 0.3s;
    }
    input:focus, select:focus { border-color: var(--accent-color); outline: none; box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1); }

    /* --- Product Grid --- */
    .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
    .product-card {
        border: 1px solid #eee; border-radius: 8px; padding: 15px; text-align: center;
        background: #f9f9f9; transition: transform 0.2s;
    }
    .product-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    .price-tag { display: block; font-size: 1.2rem; font-weight: bold; color: var(--success-color); margin: 10px 0; }

    /* --- Buttons --- */
    .btn {
        padding: 10px 25px; border: none; border-radius: 6px; font-size: 1rem; font-weight: bold;
        cursor: pointer; transition: background 0.3s; display: inline-block; font-family: 'Sarabun', sans-serif;
    }
    .btn-primary { background-color: var(--accent-color); color: white; }
    .btn-primary:hover { background-color: #2980b9; }
    .btn-success { background-color: var(--success-color); color: white; width: 100%; margin-top: 10px;}
    .btn-success:hover { background-color: #219150; }
    .btn-outline { background: transparent; border: 2px solid var(--primary-color); color: var(--primary-color); }
    .btn-outline:hover { background: var(--primary-color); color: white; }

    /* --- Messages --- */
    .msg-box { margin-top: 15px; padding: 10px; border-radius: 5px; text-align: center; font-weight: bold; }
    .msg-success { background-color: #d4edda; color: #155724; }
    .msg-error { background-color: #f8d7da; color: #721c24; }

    /* --- INTERVIEW SECTION STYLES --- */
    .level-selector-container {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-top: 40px;
    }

    .level-card {
        background: white;
        border-radius: 12px;
        padding: 30px;
        text-align: center;
        width: 300px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        cursor: pointer;
        transition: all 0.3s;
        border: 2px solid transparent;
    }

    .level-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
    
    .level-card.junior:hover { border-color: var(--accent-color); }
    .level-card.senior:hover { border-color: #e67e22; }

    .level-icon { font-size: 3rem; margin-bottom: 15px; display: block; }
    .level-title { font-size: 1.5rem; font-weight: bold; margin-bottom: 10px; display: block; }
    .level-desc { color: #666; font-size: 0.9rem; }

    /* Topic Tabs */
    .topic-tabs {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 25px;
        border-bottom: 2px solid #eee;
        padding-bottom: 10px;
    }
    
    .topic-btn {
        background: none;
        border: none;
        padding: 8px 16px;
        font-size: 1rem;
        font-family: 'Sarabun', sans-serif;
        color: #7f8c8d;
        cursor: pointer;
        border-radius: 4px;
        font-weight: 600;
    }
    
    .topic-btn:hover { background: #ecf0f1; }
    .topic-btn.active { background: var(--primary-color); color: white; }

    /* Logic Exam Specifics */
    .condition-list li {
        background: #f8f9fa; margin: 8px 0; padding: 10px 15px; border-radius: 6px;
        display: flex; justify-content: space-between; border-left: 4px solid #bdc3c7;
    }
    .junior-list li { border-left-color: #3498db; }
    .senior-list li { border-left-color: #e67e22; }

    .rules-box {
        background: #fff8e1; border: 1px solid #ffe082; padding: 15px; border-radius: 8px; margin: 15px 0;
        line-height: 1.8;
    }
    
    .action-badge {
        display: inline-block; padding: 4px 12px; border-radius: 4px; color: white; font-size: 0.85rem; font-weight: bold;
        vertical-align: middle; margin: 2px 0;
    }
    .act-reject { background: #c0392b; }
    .act-fast { background: #27ae60; }
    .act-reg { background: #2980b9; }
    .act-approve { background: #27ae60; }

    .solution-section { display: none; margin-top: 20px; padding-top: 20px; border-top: 2px dashed #ddd; }
    
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: center; font-size: 0.9rem; }
    th { background: #f2f2f2; }
    .bg-green { background: #d5f5e3; color: #145a32; font-weight: bold; }
    .bg-red { background: #fadbd8; color: #7b241c; font-weight: bold; }
    .bg-blue { background: #d6eaf8; color: #154360; font-weight: bold; }
    .dont-care { color: #999; font-style: italic; font-weight: normal; }

    /* Exam Sub-Nav specific */
    .exam-nav { text-align: center; margin-bottom: 20px; }
    .role-btn {
        padding: 10px 20px; margin: 5px; border-radius: 50px; border: none; cursor: pointer;
        background: #e0e0e0; color: #555; font-weight: bold; transition: 0.3s;
    }
    .role-btn.active-junior { background: #3498db; color: white; }
    
    .placeholder-content {
        text-align: center;
        padding: 50px;
        background: #f8f9fa;
        border-radius: 8px;
        border: 2px dashed #ddd;
        color: #7f8c8d;
    }

    .hidden { display: none; }
    .timer-badge { background: rgba(0,0,0,0.2); padding: 5px 10px; border-radius: 15px; font-size: 0.85rem; }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>
<body>

<!-- Navigation Bar -->
<nav class="navbar">
    <div class="brand">
        <span>üêû QA Interview Portal</span>
    </div>
    <div class="nav-tabs">
        <button class="active" onclick="switchMainTab('app')">üì± Bug Hunting App</button>
        <button onclick="authInterviewAccess()">üß© Interview Questions</button>
    </div>
</nav>

<div class="main-container">

    <!-- ==================== TAB 1: MOCK APP (Bug Hunting) ==================== -->
    <div id="view-app" class="section-view active">
        
        <div style="background: #e8f4fd; padding: 15px; border-radius: 8px; border-left: 5px solid #3498db; margin-bottom: 20px; font-size: 0.9rem;">
            <strong>‚ÑπÔ∏è Instructions for Candidate:</strong> 
            This is a mock application containing several <b>bugs</b>. <br>
            Please try to register, buy products, and checkout. Note down any anomalies you find.
        </div>

        <!-- Sub Navigation for Bug Hunting App -->
        <div class="exam-nav" style="margin-bottom: 20px;">
            <button class="role-btn active-junior" id="btn-ui" onclick="showAppSection('ui')">üñ•Ô∏è UI Application</button>
            <button class="role-btn" id="btn-api" onclick="showAppSection('api')">üìã API Specification</button>
            <button class="role-btn" id="btn-bugs" onclick="showAppSection('bugs')">üêû Bug Summary</button>
        </div>

        <!-- UI Application Section -->
        <div id="app-ui-section" class="app-section">
            <!-- 1. Register Page -->
            <div id="page-register" class="card">
                <h2>üîê Register New Account</h2>
                <div class="form-row">
                    <div class="form-group" style="flex:1">
                        <label>First Name</label>
                        <input id="reg-first" placeholder="e.g. Somchai">
                    </div>
                    <div class="form-group" style="flex:1">
                        <label>Last Name</label>
                        <input id="reg-last" placeholder="e.g. Jaidee">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Email Address</label>
                    <input id="reg-email" placeholder="user@example.com">
                </div>

                <div class="form-row">
                    <div class="form-group" style="flex:1">
                        <label>Password</label>
                        <input id="reg-pass" type="password" placeholder="******">
                    </div>
                    <div class="form-group" style="flex:1">
                        <label>Confirm Password</label>
                        <input id="reg-confirm" type="password" placeholder="******">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group" style="flex:1">
                        <label>Date of Birth</label>
                        <input id="reg-dob" type="text" placeholder="YYYY-MM-DD">
                    </div>
                    <div class="form-group" style="flex:1">
                        <label>Gender</label>
                        <select id="reg-gender">
                            <option>Male</option>
                            <option>Female</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" style="width:100%" onclick="register()">Create Account</button>
                <div id="reg-msg"></div>
            </div>

            <!-- 2. Product List -->
            <div id="page-products" class="card hidden">
                <h2>üõí Shop Products</h2>
                <div id="product-list" class="product-grid"></div>
                <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">
                <button class="btn btn-primary" style="float:right" onclick="checkout()">Proceed to Checkout ‚û°Ô∏è</button>
                <div style="clear:both"></div>
            </div>

            <!-- 3. Checkout -->
            <div id="page-checkout" class="card hidden">
                <h2>üì¶ Order Summary</h2>
                <div id="order-summary" style="font-size: 1.5rem; text-align: center; margin: 30px 0; color: var(--primary-color);"></div>
                <button class="btn btn-success" onclick="goPayment()">Confirm & Pay</button>
                <button class="btn btn-outline" style="width:100%; margin-top:10px" onclick="resetApp()">Cancel</button>
            </div>

            <!-- 4. Payment -->
            <div id="page-payment" class="card hidden">
                <h2>üí≥ Payment</h2>
                
                <div class="form-group">
                    <label>Payment Method</label>
                    <select id="pay-method" onchange="toggleCardInput()">
                        <option>Credit Card</option>
                        <option>Bank Transfer</option>
                        <option>e-Wallet</option>
                    </select>
                </div>

                <div class="form-group" id="card-input-group">
                    <label>Card Number</label>
                    <input id="card-num" placeholder="0000 0000 0000 0000">
                </div>

                <button class="btn btn-primary" style="width:100%" onclick="processPayment()">Pay Now</button>
                <div id="pay-msg"></div>
            </div>

            <!-- 5. History -->
            <div id="page-history" class="card hidden">
                <h2>üìú Order History</h2>
                <div id="history-list" style="background: #f9f9f9; padding: 15px; border-radius: 5px;"></div>
                <button class="btn btn-outline" style="margin-top:20px" onclick="resetApp()">Start Over</button>
            </div>
        </div>

        <!-- API Specification Section -->
        <div id="app-api-section" class="app-section hidden">
            <div class="card">
                <h2>üìã API Specification</h2>
                <p style="color:#666;font-size:0.9rem;margin-bottom:20px;">This document describes the <b>expected behavior</b>.</p>
                
                <!-- API: Register -->
                <div class="api-endpoint api-post"><div class="api-header" onclick="toggleEndpoint(this)"><span class="method-badge badge-post">POST</span><span class="path">/api/register</span><span class="desc">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</span><span class="toggle-icon">‚ñ∂</span></div><div class="api-content"><strong>üì• Request Body:</strong><div class="code-block">{
  "first": "Somchai",
  "last": "Jaidee",
  "email": "somchai@example.com",
  "password": "Password123",
  "confirmPassword": "Password123",
  "dob": "2000-01-01",
  "gender": "Male"
}</div><strong>üì§ Response:</strong> <span class="status-code status-201">201 Created</span><div class="code-block">{
  "status": "success",
  "message": "‚úÖ Registration Successful!"
}</div><div class="expected-note">Expected Validation: Email format, Password length.</div></div></div>
                
                <!-- API: Products -->
                <div class="api-endpoint api-get"><div class="api-header" onclick="toggleEndpoint(this)"><span class="method-badge badge-get">GET</span><span class="path">/api/products</span><span class="desc">‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span><span class="toggle-icon">‚ñ∂</span></div><div class="api-content"><strong>üì• Request:</strong> None<br><br><strong>üì§ Response:</strong> <span class="status-code status-200">200 OK</span><div class="code-block">[
  {
    "name": "Developer T-Shirt",
    "price": 120,
    "img": "üëï"
  },
  {
    "name": "Debugging Rubber Duck",
    "price": 550,
    "img": "ü¶Ü"
  },
  {
    "name": "Coffee Mug",
    "price": 60,
    "img": "‚òï"
  }
]</div></div></div>
                
                <!-- API: Checkout -->
                <div class="api-endpoint api-post"><div class="api-header" onclick="toggleEndpoint(this)"><span class="method-badge badge-post">POST</span><span class="path">/api/checkout</span><span class="desc">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</span><span class="toggle-icon">‚ñ∂</span></div><div class="api-content"><strong>üì• Request Body:</strong><div class="code-block">{
  "cart": [
    { "name": "Developer T-Shirt", "price": 120, "qty": 2 },
    { "name": "Coffee Mug", "price": 60, "qty": 1 }
  ]
}</div><strong>üì§ Response:</strong> <span class="status-code status-200">200 OK</span><div class="code-block">{
  "total": 300
}</div><div class="expected-note">Expected Logic: Qty > 0.</div></div></div>
                
                <!-- API: Payment -->
                <div class="api-endpoint api-post"><div class="api-header" onclick="toggleEndpoint(this)"><span class="method-badge badge-post">POST</span><span class="path">/api/payment</span><span class="desc">‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</span><span class="toggle-icon">‚ñ∂</span></div><div class="api-content"><strong>üì• Request Body:</strong><div class="code-block">{
  "method": "Credit Card",
  "amount": 300,
  "cardNumber": "1234567890123456"
}</div><strong>üì§ Response:</strong> <span class="status-code status-200">200 OK</span><div class="code-block">{
  "status": "success",
  "recorded": true
}</div><div class="expected-note">Expected Behavior: All methods must record history.</div></div></div>
                 
                 <!-- API: Orders -->
                 <div class="api-endpoint api-get"><div class="api-header" onclick="toggleEndpoint(this)"><span class="method-badge badge-get">GET</span><span class="path">/api/orders</span><span class="desc">‡∏î‡∏∂‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</span><span class="toggle-icon">‚ñ∂</span></div><div class="api-content"><strong>üì• Request:</strong> None<br><br><strong>üì§ Response:</strong> <span class="status-code status-200">200 OK</span><div class="code-block">[
  {
    "item": "Order via Credit Card",
    "amount": 300,
    "date": "2024-01-15 10:30:00"
  },
  {
    "item": "Order via Bank Transfer",
    "amount": 550,
    "date": "2024-01-15 14:20:00"
  }
]</div></div></div>
            </div>
        </div>

        <!-- Bug Summary Section -->
        <div id="app-bugs-section" class="app-section hidden">
            <div class="card">
                <h2>üêû Bug Summary Report</h2>
                
                <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <strong>‚ö†Ô∏è Total Bugs Found: 19 Issues</strong><br>
                    <span style="color: #d63031;">Critical: 2</span> | 
                    <span style="color: #e17055;">High: 5</span> | 
                    <span style="color: #fdcb6e;">Medium: 8</span> | 
                    <span style="color: #6c5ce7;">Low: 4</span>
                </div>

                <!-- 1. Register Page Bugs -->
                <div style="background: #f8f9fa; border-left: 5px solid #e17055; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
                    <h4 style="color: #e17055; margin-top: 0;">üîê 1. Register Page - Validation Bugs</h4>
                    <ul style="margin: 5px 0;">
                        <li><strong>Bug #1:</strong> ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö email format (‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô name@domain.com)</li>
                        <li><strong>Bug #2:</strong> ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)</li>
                        <li><strong>Bug #3:</strong> ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö password confirmation (‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏±‡∏ö confirm password ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô)</li>
                        <li><strong>Bug #4:</strong> ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏Ñ‡∏ß‡∏£ >= 18 ‡∏õ‡∏µ ‡∏à‡∏≤‡∏Å Date of Birth)</li>
                        <li><strong>Bug #5:</strong> ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô</li>
                    </ul>
                </div>

                <!-- 2. Products & Checkout Bugs -->
                <div style="background: #fff8e1; border-left: 5px solid #fdcb6e; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
                    <h4 style="color: #e17055; margin-top: 0;">üõí 2. Products & Checkout Page - Business Logic Bugs</h4>
                    <ul style="margin: 5px 0;">
                        <li><strong>Bug #6:</strong> ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ checkout ‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠ quantity = 0</li>
                        <li><strong>Bug #7:</strong> ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å API ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô UI</li>
                        <li><strong>Bug #8:</strong> ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (qty √ó price)</li>
                    </ul>
                </div>

                <!-- 3. Payment Page Bugs -->
                <div style="background: #ffe0e0; border-left: 5px solid #d63031; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
                    <h4 style="color: #d63031; margin-top: 0;">üí≥ 3. Payment Page - Payment Processing Bugs</h4>
                    <ul style="margin: 5px 0;">
                        <li><strong>Bug #9:</strong> Credit Card validation ‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î (‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 16 ‡∏´‡∏•‡∏±‡∏Å)</li>
                        <li><strong>Bug #10:</strong> Bank Transfer ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (‡πÅ‡∏ï‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ Success) <span style="color: #d63031; font-weight: bold;">[CRITICAL]</span></li>
                        <li><strong>Bug #11:</strong> UI ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô input fields ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</li>
                    </ul>
                </div>

                <!-- 4. Order History Bugs -->
                <div style="background: #fff8e1; border-left: 5px solid #fdcb6e; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
                    <h4 style="color: #e17055; margin-top: 0;">üìú 4. Order History Page - Data Display Bugs</h4>
                    <ul style="margin: 5px 0;">
                        <li><strong>Bug #12:</strong> Bank Transfer orders ‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</li>
                        <li><strong>Bug #13:</strong> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡πÄ‡∏ß‡∏•‡∏≤, ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô, ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô)</li>
                        <li><strong>Bug #14:</strong> ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ order</li>
                    </ul>
                </div>

                <!-- 5. API Level Bugs -->
                <div style="background: #e8f4fd; border-left: 5px solid #6c5ce7; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
                    <h4 style="color: #6c5ce7; margin-top: 0;">üîó 5. API Level Bugs</h4>
                    <ul style="margin: 5px 0;">
                        <li><strong>Bug #15 (POST /register):</strong> API ‡πÑ‡∏°‡πà‡∏°‡∏µ Backend Validation (‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö)</li>
                        <li><strong>Bug #16 (GET /products):</strong> API ‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ú‡∏¥‡∏î (Price Discrepancy)</li>
                        <li><strong>Bug #17 (POST /checkout):</strong> API ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö Payload ‡∏ó‡∏µ‡πà‡∏°‡∏µ qty=0 ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏•‡∏ö</li>
                        <li><strong>Bug #18 (POST /payment):</strong> API ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö success ‡πÅ‡∏ï‡πà recorded=false ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Bank Transfer</li>
                        <li><strong>Bug #19 (GET /orders):</strong> API ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Order ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö (Missing Object) ‡∏´‡∏£‡∏∑‡∏≠ Order ‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô</li>
                    </ul>
                </div>

                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 20px;">
                    <h4>üéØ ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏Ç‡∏≠‡∏á Bug</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin: 10px 0;">
                        <div style="background: #ffe0e0; padding: 10px; border-radius: 4px; text-align: center;">
                            <strong style="color: #d63031;">üî¥ Critical (2)</strong><br>
                            <small>Bug #6, #10</small>
                        </div>
                        <div style="background: #ffe8d6; padding: 10px; border-radius: 4px; text-align: center;">
                            <strong style="color: #e17055;">üü† High (5)</strong><br>
                            <small>Bug #1-5, #9</small>
                        </div>
                        <div style="background: #fff8e1; padding: 10px; border-radius: 4px; text-align: center;">
                            <strong style="color: #fdcb6e;">üü° Medium (8)</strong><br>
                            <small>Bug #7-8, #12-19</small>
                        </div>
                        <div style="background: #e8f4fd; padding: 10px; border-radius: 4px; text-align: center;">
                            <strong style="color: #6c5ce7;">üîµ Low (4)</strong><br>
                            <small>Bug #11</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- ==================== TAB 2: INTERVIEW QUESTIONS (Protected) ==================== -->
    <div id="view-interview" class="section-view">
        
        <!-- Step 1: Level Selector -->
        <div id="interview-level-select" class="level-selector-container">
            <div class="level-card junior" onclick="selectInterviewLevel('junior')">
                <span class="level-icon">üë∂</span>
                <span class="level-title">Junior Level</span>
                <span class="level-desc">Fundamental Logic, Basic API, Manual Test Cases</span>
            </div>
            
            <div class="level-card senior" onclick="selectInterviewLevel('senior')">
                <span class="level-icon">ü¶Å</span>
                <span class="level-title">Senior Level</span>
                <span class="level-desc">Advanced Logic, Risk Assessment, Strategy</span>
            </div>
        </div>

        <!-- Step 2: Content Area (Hidden until level selected) -->
        <div id="interview-content-area" class="hidden">
            <div style="text-align: left; margin-bottom: 10px;">
                <button class="btn btn-outline" style="padding: 5px 15px; font-size: 0.9rem;" onclick="resetInterviewLevel()">‚¨ÖÔ∏è Back to Level Selection</button>
            </div>
            
            <div class="card">
                <div class="header" id="interview-header" style="background:#2c3e50; color:white; padding:15px 25px; border-radius:10px 10px 0 0; margin:-30px -30px 20px -30px; display:flex; justify-content:space-between; align-items:center;">
                    <h2 style="margin:0; color:white; border:none; padding:0;">Selected: <span id="selected-level-text">...</span></h2>
                </div>

                <!-- Topic Navigation -->
                <div class="topic-tabs">
                    <button class="topic-btn active" onclick="switchTopic(1)">1. Logic Exam</button>
                    <button class="topic-btn" onclick="switchTopic(2)">2. Technical - JSON</button>
                    <button class="topic-btn" onclick="switchTopic(3)">3. Technical - SQL</button>
                    <button class="topic-btn" onclick="switchTopic(4)">4. Coding / Automate</button>
                </div>

                <!-- TOPIC 1: LOGIC EXAM -->
                <div id="topic-1" class="topic-content">
                    
                    <!-- Junior Logic Content -->
                    <div id="logic-content-junior" class="hidden">
                        <div class="section-title">üìå ‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</div>
                        <div class="condition-list junior-list">
                            <ul>
                                <li><span>C1: ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (Salary)</span> <b>> 30,000 THB</b></li>
                                <li><span>C2: ‡∏≠‡∏≤‡∏¢‡∏∏‡∏á‡∏≤‡∏ô (Exp)</span> <b>> 1 ‡∏õ‡∏µ (Year)</b></li>
                                <li><span>C3: ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ö‡∏π‡πÇ‡∏£</span> <b>‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î (Clean)</b></li>
                            </ul>
                        </div>
                        <div class="rules-box" style="text-align: center;">
                            <p>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå <b>‡∏ó‡∏±‡πâ‡∏á 3 ‡∏Ç‡πâ‡∏≠</b> ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ <span class="action-badge act-approve">Approve</span></p>
                            <p>‡∏´‡∏≤‡∏Å‡∏Ç‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏Ç‡πâ‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å <span class="action-badge act-reject">Reject</span> ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
                        </div>
                        <p style="text-align: center; font-style: italic; color: #888;">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: ‡∏à‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô <b>Test Case / Decision Table (‡πÅ‡∏ö‡∏ö‡∏•‡∏î‡∏£‡∏π‡∏õ)</b> ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö</p>
                        <center><button class="btn btn-secondary" style="background:#555; color:white;" onclick="toggleSolution('junior')">‡πÄ‡∏â‡∏•‡∏¢ (Solution)</button></center>
                        <div id="solution-junior" class="solution-section">
                            <h4>‚úÖ ‡πÄ‡∏â‡∏•‡∏¢: Collapsed Decision Table</h4>
                            <table><thead><tr><th>Rules</th><th class="bg-green">Pass</th><th class="bg-red">Fail C1</th><th class="bg-red">Fail C2</th><th class="bg-red">Fail C3</th></tr></thead><tbody><tr><td>C1</td><td class="bg-green">True</td><td class="bg-red">False</td><td class="bg-green">True</td><td class="bg-green">True</td></tr><tr><td>C2</td><td class="bg-green">True</td><td class="dont-care">-</td><td class="bg-red">False</td><td class="bg-green">True</td></tr><tr><td>C3</td><td class="bg-green">True</td><td class="dont-care">-</td><td class="dont-care">-</td><td class="bg-red">False</td></tr><tr><td><b>Result</b></td><td class="bg-green">Approve</td><td class="bg-red">Reject</td><td class="bg-red">Reject</td><td class="bg-red">Reject</td></tr></tbody></table>
                        </div>
                    </div>

                    <!-- Senior Logic Content -->
                    <div id="logic-content-senior" class="hidden">
                        <div class="section-title">üìå ‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (Advanced)</div>
                        <div class="condition-list senior-list">
                            <ul>
                                <li><span>C1: ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (Income)</span> <b>>= 50,000 THB</b></li>
                                <li><span>C2: ‡∏†‡∏≤‡∏£‡∏∞‡∏´‡∏ô‡∏µ‡πâ (DTI)</span> <b><= 40%</b></li>
                                <li><span>C3: ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏Ñ‡πâ‡∏≥ (Guarantor)</span> <b>Yes / No</b></li>
                            </ul>
                        </div>
                        <div class="rules-box">
                            <p>1. <b>Income < 50k</b> ‚ûî <span class="action-badge act-reject">Reject</span> (‡∏ó‡∏±‡∏ô‡∏ó‡∏µ)</p>
                            <p>2. <b>Income Pass</b> + <b>DTI Pass</b> (<=40%) ‚ûî <span class="action-badge act-fast">Approve Fast Track</span> (‡πÑ‡∏°‡πà‡∏™‡∏ô‡∏Ñ‡∏ô‡∏Ñ‡πâ‡∏≥)</p>
                            <p>3. <b>Income Pass</b> + <b>DTI Fail</b> (>40%) :</p>
                            <ul style="margin-left: 20px;">
                                <li>‡∏ñ‡πâ‡∏≤‡∏°‡∏µ <b>Guarantor</b> ‚ûî <span class="action-badge act-reg">Approve Regular</span></li>
                                <li>‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ <b>Guarantor</b> ‚ûî <span class="action-badge act-reject">Reject</span></li>
                            </ul>
                        </div>
                        <p style="text-align: center; font-style: italic; color: #888;">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: ‡∏à‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô <b>Decision Table (‡πÅ‡∏ö‡∏ö‡∏•‡∏î‡∏£‡∏π‡∏õ)</b> ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
                        <center><button class="btn btn-secondary" style="background:#555; color:white;" onclick="toggleSolution('senior')">‡πÄ‡∏â‡∏•‡∏¢ (Solution)</button></center>
                        <div id="solution-senior" class="solution-section">
                            <h4>‚úÖ ‡πÄ‡∏â‡∏•‡∏¢ (Collapsed Logic)</h4>
                            <table><thead><tr><th>Rules</th><th class="bg-red">R1</th><th class="bg-green">R2</th><th class="bg-blue">R3</th><th class="bg-red">R4</th></tr></thead><tbody><tr><td>Income >= 50k</td><td class="bg-red">False</td><td class="bg-green">True</td><td class="bg-blue">True</td><td class="bg-red">True</td></tr><tr><td>DTI <= 40%</td><td class="dont-care">-</td><td class="bg-green">True</td><td class="bg-blue">False</td><td class="bg-red">False</td></tr><tr><td>Guarantor</td><td class="dont-care">-</td><td class="dont-care">-</td><td class="bg-blue">True</td><td class="bg-red">False</td></tr><tr><td><b>Result</b></td><td class="bg-red">Reject</td><td class="bg-green">Fast Track</td><td class="bg-blue">Regular</td><td class="bg-red">Reject</td></tr></tbody></table>
                            <div style="margin-top:10px; background:#e8f6f3; padding:10px; border-left:4px solid #1abc9c; font-size:0.9rem;"><b>üí° Senior Check:</b> ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Don't care (-) ‡πÉ‡∏ô Rule 2 (Fast Track) ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ DTI ‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏ô‡∏Ñ‡πâ‡∏≥</div>
                        </div>
                    </div>
                </div>

                <!-- TOPIC 2: JSON -->
                <div id="topic-2" class="topic-content hidden"><div class="placeholder-content"><h3>üèóÔ∏è Technical - JSON Question</h3><p>‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á (Coming Soon)</p></div></div>
                <!-- TOPIC 3: SQL -->
                <div id="topic-3" class="topic-content hidden"><div class="placeholder-content"><h3>üíæ Technical - SQL Question</h3><p>‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á (Coming Soon)</p></div></div>
                <!-- TOPIC 4: CODING -->
                <div id="topic-4" class="topic-content hidden"><div class="placeholder-content"><h3>ü§ñ Technical - Coding / Automate</h3><p>‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á (Coming Soon)</p></div></div>
            </div>
        </div>
    </div>

</div>

<script>
// === UI Navigation Logic ===
function switchMainTab(tab) {
    document.querySelectorAll('.section-view').forEach(el => el.classList.remove('active'));
    document.querySelectorAll('.nav-tabs button').forEach(el => el.classList.remove('active'));
    
    if(tab === 'app') {
        document.getElementById('view-app').classList.add('active');
        document.querySelectorAll('.nav-tabs button')[0].classList.add('active');
    } else if(tab === 'interview') {
        document.getElementById('view-interview').classList.add('active');
        document.querySelectorAll('.nav-tabs button')[1].classList.add('active');
    }
}

// Password Protection for Interview Section
function authInterviewAccess() {
    getPasswordInput('Enter Password to Access Interview Questions').then(password => {
        // Plaintext Check as requested
        if(password === 'axonsqa') {
            switchMainTab('interview');
        } else {
            if(password !== null) alert('‚õî Access Denied: Incorrect Password');
        }
    });
}

// === Interview Section Logic ===
let currentLevel = '';
function selectInterviewLevel(level) {
    currentLevel = level;
    document.getElementById('interview-level-select').classList.add('hidden');
    document.getElementById('interview-content-area').classList.remove('hidden');
    const headerTitle = document.getElementById('selected-level-text');
    const headerBox = document.getElementById('interview-header');
    if(level === 'junior') { headerTitle.innerText = "Junior Level"; headerBox.style.background = "#3498db"; } 
    else { headerTitle.innerText = "Senior Level"; headerBox.style.background = "#e67e22"; }
    switchTopic(1);
}
function resetInterviewLevel() {
    document.getElementById('interview-level-select').classList.remove('hidden');
    document.getElementById('interview-content-area').classList.add('hidden');
    currentLevel = '';
}
function switchTopic(topicId) {
    document.querySelectorAll('.topic-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.topic-btn')[topicId-1].classList.add('active');
    document.querySelectorAll('.topic-content').forEach(content => content.classList.add('hidden'));
    document.getElementById('topic-' + topicId).classList.remove('hidden');
    if(topicId === 1) {
        document.getElementById('logic-content-junior').classList.add('hidden');
        document.getElementById('logic-content-senior').classList.add('hidden');
        if(currentLevel === 'junior') document.getElementById('logic-content-junior').classList.remove('hidden');
        else document.getElementById('logic-content-senior').classList.remove('hidden');
    }
}

// Password input function
function getPasswordInput(message) {
    return new Promise((resolve) => {
        const overlay = document.createElement('div');
        overlay.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:10000;display:flex;align-items:center;justify-content:center;';
        const modal = document.createElement('div');
        modal.style.cssText = 'background:white;padding:30px;border-radius:10px;box-shadow:0 4px 20px rgba(0,0,0,0.3);text-align:center;min-width:300px;';
        modal.innerHTML = `<h3 style="margin-top:0;color:#333;">üîí ${message}</h3><input type="password" id="pwd-input" style="width:200px;padding:10px;border:2px solid #ddd;border-radius:5px;font-size:16px;text-align:center;" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"><div style="margin-top:20px;"><button id="pwd-ok" style="background:#3498db;color:white;border:none;padding:10px 20px;border-radius:5px;margin-right:10px;cursor:pointer;">OK</button><button id="pwd-cancel" style="background:#95a5a6;color:white;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;">Cancel</button></div>`;
        overlay.appendChild(modal); document.body.appendChild(overlay);
        const input = document.getElementById('pwd-input');
        input.focus();
        function cleanup() { document.body.removeChild(overlay); }
        document.getElementById('pwd-ok').onclick = () => { const password = input.value.trim(); cleanup(); resolve(password); };
        document.getElementById('pwd-cancel').onclick = () => { cleanup(); resolve(null); };
        input.onkeypress = (e) => { if(e.key === 'Enter') document.getElementById('pwd-ok').click(); };
    });
}

function showAppSection(section) {
    if(section === 'bugs') {
        getPasswordInput('Enter Password to View Bug Summary').then(password => {
            // Plaintext Check
            if(password === 'qacoe') {
                switchAppSectionView(section);
            } else { 
                if(password !== null) alert('‚õî Access Denied: Incorrect Password'); 
            }
        });
        return;
    }
    switchAppSectionView(section);
}

function switchAppSectionView(section) {
    document.querySelectorAll('.app-section').forEach(el => el.classList.add('hidden'));
    document.getElementById('btn-ui').classList.remove('active-junior');
    document.getElementById('btn-api').classList.remove('active-junior');
    document.getElementById('btn-bugs').classList.remove('active-junior');
    document.getElementById('app-' + section + '-section').classList.remove('hidden');
    document.getElementById('btn-' + section).classList.add('active-junior');
}
function toggleEndpoint(headerElement) { const content = headerElement.nextElementSibling; const arrow = headerElement.querySelector('.toggle-icon'); if(content.style.display === 'block') { content.style.display = 'none'; arrow.style.transform = 'rotate(0deg)'; } else { content.style.display = 'block'; arrow.style.transform = 'rotate(90deg)'; } }

function toggleSolution(level) {
    getPasswordInput('Enter Password to View Solution').then(password => {
         // Plaintext Check
         if(password === 'qacoe') {
            var x = document.getElementById("solution-" + level);
            x.style.display = (x.style.display === "block") ? "none" : "block";
            if(x.style.display === "block") setTimeout(() => x.scrollIntoView({behavior: 'smooth'}), 100);
        } else { if(password !== null) alert('‚õî Access Denied: Incorrect Password'); }
    });
}

// === Mock Application Logic ===
let orders = [];
let products = []; 
function apiRegister(data){ return new Promise(resolve => { setTimeout(() => resolve({status:"success", message:"‚úÖ Registration Successful!"}), 600); }); }
function apiGetProducts(){ return new Promise(resolve => { resolve([ {name:"Developer T-Shirt", price:120, img:"üëï"}, {name:"Debugging Rubber Duck", price:550, img:"ü¶Ü"}, {name:"Coffee Mug", price:60, img:"‚òï"} ]); }); }
function apiCheckout(cart){ return new Promise(resolve => { let total = 0; cart.forEach(item => total += item.qty * item.price); resolve({total: total}); }); }
function apiPayment(method, amount, cardNum){ return new Promise(resolve => { setTimeout(() => { if(method === "Bank Transfer"){ resolve({status:"success", recorded:false}); } else { resolve({status:"success", recorded:true}); } }, 800); }); }
function apiGetOrders(){ return new Promise(resolve => resolve(orders)); }

function register(){ 
    document.getElementById('reg-msg').className = 'msg-box'; 
    document.getElementById('reg-msg').innerText = 'Processing...'; 
    apiRegister({}).then(res => { 
        const msgDiv = document.getElementById('reg-msg'); 
        msgDiv.innerText = res.message; 
        msgDiv.classList.add('msg-success'); 
        setTimeout(() => { document.getElementById('page-register').classList.add('hidden'); loadProducts(); }, 1000); 
    }); 
}

function loadProducts(){ 
    apiGetProducts().then(items => { 
        products = items; 
        const listDiv = document.getElementById('product-list'); 
        listDiv.innerHTML = ""; 
        items.forEach((p,i)=>{ listDiv.innerHTML += `<div class="product-card"><div style="font-size:3rem;">${p.img}</div><h3>${p.name}</h3><span class="price-tag">${p.price} THB</span><div style="margin-top:10px;">Qty: <input id="qty-${i}" type="number" value="1" style="width:60px; text-align:center;"></div></div>`; }); 
        document.getElementById('page-products').classList.remove('hidden'); 
    }); 
}

function checkout(){ 
    const cart = products.map((p,i)=>{ return {name:p.name, price:p.price, qty:parseInt(document.getElementById(`qty-${i}`).value)}; }); 
    apiCheckout(cart).then(res=>{ document.getElementById('order-summary').innerHTML = `Total Amount:<br><span style="font-size:3rem; font-weight:bold;">${res.total} THB</span>`; document.getElementById('page-products').classList.add('hidden'); document.getElementById('page-checkout').classList.remove('hidden'); }); 
}

function goPayment(){ document.getElementById('page-checkout').classList.add('hidden'); document.getElementById('page-payment').classList.remove('hidden'); }

function toggleCardInput() { const method = document.getElementById('pay-method').value; document.getElementById('card-input-group').style.display = (method === 'Credit Card') ? 'block' : 'none'; }

function processPayment(){ 
    const method = document.getElementById('pay-method').value; 
    const amountText = document.getElementById('order-summary').innerText; 
    const amount = parseInt(amountText.replace(/[^0-9]/g,"")); 
    document.getElementById('pay-msg').innerText = "Processing Payment..."; 
    apiPayment(method, amount, "").then(res=>{ 
        const msg = (res.recorded) ? "‚úÖ Payment Successful!" : "‚úÖ Payment Successful! (Wait, did it record?)"; 
        document.getElementById('pay-msg').innerText = msg; 
        document.getElementById('pay-msg').className = "msg-box msg-success"; 
        if(res.recorded) orders.push({item:"Order via " + method, amount:amount, date: new Date().toLocaleString()}); 
        setTimeout(() => { showHistory(); document.getElementById('page-payment').classList.add('hidden'); document.getElementById('page-history').classList.remove('hidden'); }, 1500); 
    }); 
}

function showHistory(){ 
    apiGetOrders().then(hist=>{ 
        if(hist.length === 0) { document.getElementById('history-list').innerHTML = "<p style='text-align:center; color:red;'>‚ö†Ô∏è No orders found! (Bug?)</p>"; } 
        else { document.getElementById('history-list').innerHTML = hist.map(o=> `<div style="border-bottom:1px solid #ddd; padding:10px;"><b>${o.item}</b> <span style="float:right; color:green; font-weight:bold;">${o.amount} THB</span><div style="font-size:0.8rem; color:#888;">${o.date}</div></div>`).join(""); } 
    }); 
}

// Function to Reset App State (Replaces location.reload)
function resetApp() {
    // 1. Reset Data
    orders = [];
    products = [];
    
    // 2. Hide all pages
    document.getElementById('page-products').classList.add('hidden');
    document.getElementById('page-checkout').classList.add('hidden');
    document.getElementById('page-payment').classList.add('hidden');
    document.getElementById('page-history').classList.add('hidden');
    
    // 3. Clear Inputs
    document.getElementById('reg-first').value = '';
    document.getElementById('reg-last').value = '';
    document.getElementById('reg-email').value = '';
    document.getElementById('reg-pass').value = '';
    document.getElementById('reg-confirm').value = '';
    document.getElementById('reg-dob').value = '';
    document.getElementById('pay-msg').innerText = '';
    document.getElementById('reg-msg').innerText = '';
    document.getElementById('reg-msg').className = '';
    
    // 4. Show Register Page
    document.getElementById('page-register').classList.remove('hidden');
}
</script>

</body>
</html>
